<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="co.edu.uniquindio.fx10.proyectofinals2.controllers.UsuarioMainController"
            prefHeight="700.0" prefWidth="1200.0"
            style="-fx-background-color: #f5f7fa;">

    <!-- Header -->
    <top>
        <HBox alignment="CENTER_LEFT" spacing="20"
              style="-fx-background-color: linear-gradient(to right, #667eea, #764ba2); -fx-padding: 20 30;">

            <Label text="ðŸ“¦ RapponCho" style="-fx-text-fill: white; -fx-font-size: 24px; -fx-font-weight: bold;"/>
            <Label fx:id="lblBienvenida" text="Bienvenido" style="-fx-text-fill: #e0e7ff; -fx-font-size: 14px;"/>

            <Region HBox.hgrow="ALWAYS"/>

            <Button text="Cerrar SesiÃ³n" onAction="#handleCerrarSesion"
                    style="-fx-background-color: rgba(255,255,255,0.2); -fx-text-fill: white; -fx-background-radius: 8; -fx-padding: 10 20; -fx-cursor: hand;"/>
        </HBox>
    </top>

    <center>
        <TabPane tabClosingPolicy="UNAVAILABLE">

            <!-- TAB: NUEVO ENVÃO -->
            <Tab text="ðŸ“¦ Nuevo EnvÃ­o">
                <ScrollPane fitToWidth="true">
                    <VBox spacing="20" style="-fx-padding: 30;">

                        <Label text="Crear Nuevo EnvÃ­o" style="-fx-font-size: 24px; -fx-font-weight: bold;"/>

                        <!-- Origen y Destino -->
                        <VBox spacing="15" style="-fx-background-color: white; -fx-padding: 20; -fx-background-radius: 8;">
                            <Label text="ðŸ“ Origen y Destino" style="-fx-font-size: 16px; -fx-font-weight: bold;"/>

                            <HBox spacing="15">
                                <VBox spacing="5" HBox.hgrow="ALWAYS">
                                    <Label text="Origen:"/>
                                    <ComboBox fx:id="cmbOrigen" promptText="Selecciona origen" maxWidth="Infinity"/>
                                </VBox>

                                <VBox spacing="5" HBox.hgrow="ALWAYS">
                                    <Label text="Destino:"/>
                                    <ComboBox fx:id="cmbDestino" promptText="Selecciona destino" maxWidth="Infinity"/>
                                </VBox>
                            </HBox>
                        </VBox>

                        <!-- Paquete -->
                        <VBox spacing="15" style="-fx-background-color: white; -fx-padding: 20; -fx-background-radius: 8;">
                            <Label text="ðŸ“¦ InformaciÃ³n del Paquete" style="-fx-font-size: 16px; -fx-font-weight: bold;"/>

                            <HBox spacing="10">
                                <VBox spacing="5" HBox.hgrow="ALWAYS">
                                    <Label text="Ancho (cm):"/>
                                    <TextField fx:id="txtAncho" promptText="30"/>
                                </VBox>
                                <VBox spacing="5" HBox.hgrow="ALWAYS">
                                    <Label text="Alto (cm):"/>
                                    <TextField fx:id="txtAlto" promptText="20"/>
                                </VBox>
                                <VBox spacing="5" HBox.hgrow="ALWAYS">
                                    <Label text="Largo (cm):"/>
                                    <TextField fx:id="txtLargo" promptText="15"/>
                                </VBox>
                                <VBox spacing="5" HBox.hgrow="ALWAYS">
                                    <Label text="Peso (kg):"/>
                                    <TextField fx:id="txtPeso" promptText="2.5"/>
                                </VBox>
                            </HBox>
                        </VBox>

                        <!-- Servicios -->
                        <VBox spacing="15" style="-fx-background-color: white; -fx-padding: 20; -fx-background-radius: 8;">
                            <Label text="â­ Servicios Adicionales" style="-fx-font-size: 16px; -fx-font-weight: bold;"/>

                            <HBox spacing="20">
                                <CheckBox fx:id="chkSeguro" text="Seguro (+$1,500)"/>
                                <CheckBox fx:id="chkPrioridad" text="Prioridad (+$2,000)"/>
                                <CheckBox fx:id="chkFragil" text="FrÃ¡gil (+$1,400)"/>
                                <CheckBox fx:id="chkFirma" text="Firma (+$800)"/>
                            </HBox>
                        </VBox>

                        <!-- CotizaciÃ³n -->
                        <HBox spacing="20" alignment="CENTER">
                            <Button text="ðŸ’° Cotizar" onAction="#handleCotizar"
                                    style="-fx-background-color: #10b981; -fx-text-fill: white; -fx-padding: 12 40; -fx-font-weight: bold; -fx-cursor: hand;"/>

                            <Label fx:id="lblCosto" text="Costo: $0.00"
                                   style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #10b981;"/>
                        </HBox>

                        <!-- MÃ©todo Pago -->
                        <VBox spacing="10" style="-fx-background-color: white; -fx-padding: 20; -fx-background-radius: 8;">
                            <Label text="ðŸ’³ MÃ©todo de Pago" style="-fx-font-weight: bold;"/>
                            <ComboBox fx:id="cmbMetodoPago" promptText="Selecciona mÃ©todo" prefWidth="300"/>
                        </VBox>

                        <!-- Botones -->
                        <HBox spacing="15" alignment="CENTER">
                            <Button text="ðŸš€ Crear EnvÃ­o" onAction="#handleCrearEnvio"
                                    style="-fx-background-color: #667eea; -fx-text-fill: white; -fx-padding: 15 50; -fx-font-size: 16px; -fx-font-weight: bold; -fx-cursor: hand;"/>
                            <Button text="Limpiar" onAction="#handleLimpiar"
                                    style="-fx-background-color: #94a3b8; -fx-text-fill: white; -fx-padding: 15 30; -fx-cursor: hand;"/>
                        </HBox>
                    </VBox>
                </ScrollPane>
            </Tab>

            <!-- TAB: MIS ENVÃOS -->
            <Tab text="ðŸ“‹ Mis EnvÃ­os">
                <VBox spacing="20" style="-fx-padding: 30;">

                    <HBox alignment="CENTER_LEFT" spacing="15">
                        <Label text="Mis EnvÃ­os" style="-fx-font-size: 24px; -fx-font-weight: bold;"/>
                        <Region HBox.hgrow="ALWAYS"/>
                        <Button text="ðŸ”„ Actualizar" onAction="#handleActualizarEnvios"
                                style="-fx-background-color: #667eea; -fx-text-fill: white; -fx-padding: 8 20; -fx-cursor: hand;"/>
                    </HBox>

                    <TableView fx:id="tableEnvios" style="-fx-background-color: white;">
                        <columns>
                            <TableColumn fx:id="colIdEnvio" text="ID" prefWidth="100"/>
                            <TableColumn fx:id="colOrigen" text="Origen" prefWidth="200"/>
                            <TableColumn fx:id="colDestino" text="Destino" prefWidth="200"/>
                            <TableColumn fx:id="colEstado" text="Estado" prefWidth="120"/>
                            <TableColumn fx:id="colFecha" text="Fecha" prefWidth="150"/>
                            <TableColumn fx:id="colCosto" text="Costo" prefWidth="100"/>
                        </columns>
                    </TableView>
                </VBox>
            </Tab>

            <!-- TAB: MI PERFIL -->
            <Tab text="ðŸ‘¤ Perfil">
                <VBox spacing="20" style="-fx-padding: 30;">

                    <Label text="Mi Perfil" style="-fx-font-size: 24px; -fx-font-weight: bold;"/>

                    <VBox spacing="15" style="-fx-background-color: white; -fx-padding: 20; -fx-background-radius: 8;">
                        <Label text="InformaciÃ³n Personal" style="-fx-font-weight: bold; -fx-font-size: 16px;"/>

                        <HBox spacing="15">
                            <VBox spacing="5" HBox.hgrow="ALWAYS">
                                <Label text="Nombre:"/>
                                <TextField fx:id="txtNombre"/>
                            </VBox>
                            <VBox spacing="5" HBox.hgrow="ALWAYS">
                                <Label text="TelÃ©fono:"/>
                                <TextField fx:id="txtTelefono"/>
                            </VBox>
                        </HBox>

                        <VBox spacing="5">
                            <Label text="Correo:"/>
                            <TextField fx:id="txtCorreo"/>
                        </VBox>

                        <Button text="ðŸ’¾ Guardar" onAction="#handleActualizarPerfil"
                                style="-fx-background-color: #10b981; -fx-text-fill: white; -fx-padding: 10 30; -fx-font-weight: bold; -fx-cursor: hand;"/>
                    </VBox>

                    <VBox spacing="15" style="-fx-background-color: white; -fx-padding: 20; -fx-background-radius: 8;">
                        <HBox alignment="CENTER_LEFT">
                            <Label text="Mis Direcciones" style="-fx-font-weight: bold; -fx-font-size: 16px;"/>
                            <Region HBox.hgrow="ALWAYS"/>
                            <Button text="+ Nueva" onAction="#handleAgregarDireccion"
                                    style="-fx-background-color: #667eea; -fx-text-fill: white; -fx-padding: 5 15; -fx-cursor: hand;"/>
                        </HBox>

                        <ListView fx:id="listDirecciones" prefHeight="150"/>
                    </VBox>

                    <VBox spacing="15" style="-fx-background-color: white; -fx-padding: 20; -fx-background-radius: 8;">
                        <HBox alignment="CENTER_LEFT">
                            <Label text="MÃ©todos de Pago" style="-fx-font-weight: bold; -fx-font-size: 16px;"/>
                            <Region HBox.hgrow="ALWAYS"/>
                            <Button text="+ Nuevo" onAction="#handleAgregarMetodoPago"
                                    style="-fx-background-color: #667eea; -fx-text-fill: white; -fx-padding: 5 15; -fx-cursor: hand;"/>
                        </HBox>

                        <ListView fx:id="listMetodosPago" prefHeight="120"/>
                    </VBox>
                </VBox>
            </Tab>

        </TabPane>
    </center>

</BorderPane>